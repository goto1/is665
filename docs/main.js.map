{"version":3,"sources":["main.js"],"names":["getAllSections","document","getElementsByTagName","createLink","href","innerHTML","className","link","createElement","onclick","event","querySelector","scrollIntoView","behavior","createBottomPaginationFor","sections","i","length","btnWrap","getElementsByClassName","curr","appendChild","createLinkForSideNavigation","createSidePaginationFor","pager","getElementById","listItem","window","onload","init","sectionsPositions","pos","getBoundingClientRect","push","top","children","onscroll","found","find","sectionPosition","pageYOffset","idx","indexOf","listItems"],"mappings":"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","file":"main.js","sourcesContent":["/* global window, document */\n\nfunction getAllSections() {\n  return document.getElementsByTagName('section');\n}\n\nfunction createLink(href, innerHTML, className) {\n  const link = document.createElement('a');\n  link.href = `#${href}`;\n  link.innerHTML = innerHTML;\n  link.className = className;\n\n  link.onclick = (event) => {\n    document.querySelector(`[id=\"${href}\"]`).scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return link;\n}\n\nfunction createBottomPaginationFor(sections) {\n  for (let i = 0; i < sections.length; i++) {\n    const btnWrap = sections[i].getElementsByClassName('btn-wrap')[0];\n    const curr = i + 1;\n\n    if (i === 0) {\n      btnWrap.appendChild(\n        createLink(curr + 1, 'Next &#8594;', 'btn btn-next')\n      );\n    } else if (i === sections.length - 1) {\n      btnWrap.appendChild(\n        createLink(curr - 1, '&#8592; Previous', 'btn btn-prev')\n      );\n    } else {\n      btnWrap.appendChild(\n        createLink(curr - 1, '&#8592; Previous', 'btn btn-prev')\n      );\n      btnWrap.appendChild(\n        createLink(curr + 1, 'Next &#8594;', 'btn btn-next')\n      );\n    }\n  }\n}\n\nfunction createLinkForSideNavigation(href) {\n  const link = document.createElement('a');\n\n  link.href = `#${href}`;\n\n  return link;\n}\n\nfunction createSidePaginationFor(sections) {\n  const pager = document.getElementById('pager');\n\n  for (let i = 0; i < sections.length; i++) {\n    const curr = i + 1;\n    const listItem = document.createElement('li');\n\n    listItem.appendChild(createLinkForSideNavigation(curr));\n    pager.appendChild(listItem);\n\n    listItem.onclick = () => {\n      document.querySelector(`[id=\"${curr}\"]`).scrollIntoView({ behavior: 'smooth' });\n    };\n  }\n}\n\nwindow.onload = function init() {\n  const sections = getAllSections();\n  const sectionsPositions = [];\n  const pager = document.getElementById('pager');\n\n  createBottomPaginationFor(sections);\n  createSidePaginationFor(sections);\n\n  for (let i = 0; i < sections.length; i++) {\n    const pos = sections[i].getBoundingClientRect();\n    sectionsPositions.push(pos.top);\n  }\n\n  pager.children[0].className='active';\n\n  window.onscroll = () => {\n\n    const found = sectionsPositions.find((sectionPosition) => {\n      return sectionPosition === window.pageYOffset;\n    });\n\n    if (found >= 0) {\n      const idx = sectionsPositions.indexOf(found);\n      const listItems = pager.children;\n\n      for (let i = 0; i < pager.children.length; i++) {\n        pager.children[i].className = '';\n      }\n\n      listItems[idx].className = 'active';\n    }\n  };\n};\n"]}